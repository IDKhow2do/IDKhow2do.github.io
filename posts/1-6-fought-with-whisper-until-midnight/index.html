<!DOCTYPE html>
<html lang="zh-CN">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>1-6:我与whisper打架到半夜 - 一夔的小窝</title><meta name="Description" content=""><meta property="og:title" content="1-6:我与whisper打架到半夜" />
<meta property="og:description" content="AI总结 # 起因 1. 最近我通过ChatGPT的iOS端语音输入功能,发现它的语音识别准确度非常高。 2. 我很想知道它为什么识别这么准确,经过了解,是" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" /><meta property="og:image" content="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202305010204833.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-20T01:52:30+08:00" />
<meta property="article:modified_time" content="2023-07-20T01:52:30+08:00" /><meta property="og:site_name" content="我的个人网站" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202305010204833.png" /><meta name="twitter:title" content="1-6:我与whisper打架到半夜"/>
<meta name="twitter:description" content="AI总结 # 起因 1. 最近我通过ChatGPT的iOS端语音输入功能,发现它的语音识别准确度非常高。 2. 我很想知道它为什么识别这么准确,经过了解,是"/>
      <meta name="twitter:site" content="@这不是我"/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" /><link rel="prev" href="http://localhost:1313/posts/weekly-8-journal-the-weekly-report-should-be-a-reflection-so-there-is-nothing-interesting-in-this-article-just-a-record/" /><link rel="next" href="http://localhost:1313/posts/1-7hdlbits_record_1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "1-6:我与whisper打架到半夜",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/1-6-fought-with-whisper-until-midnight\/"
        },"genre": "posts","keywords": "踩坑记录, just for fun","wordcount":  4777 ,
        "url": "http:\/\/localhost:1313\/posts\/1-6-fought-with-whisper-until-midnight\/","datePublished": "2023-07-20T01:52:30+08:00","dateModified": "2023-07-20T01:52:30+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "龙山"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="一夔的小窝"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        title="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png" /><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="想写什么就写什么的文章"> 文章 </a><a class="menu-item" href="/tags/" title="不知道我会不会记得区分标签"> 标签 </a><a class="menu-item" href="/categories/" title="分类和标签，傻傻分不清楚"> 分类 </a><a class="menu-item" href="/photowall/" title="3D照片墙"> 照片墙 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="一夔的小窝"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        title="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png" /><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="想写什么就写什么的文章">文章</a><a class="menu-item" href="/tags/" title="不知道我会不会记得区分标签">标签</a><a class="menu-item" href="/categories/" title="分类和标签，傻傻分不清楚">分类</a><a class="menu-item" href="/photowall/" title="3D照片墙">照片墙</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">1-6:我与whisper打架到半夜</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>龙山</a></span>&nbsp;<span class="post-category">included in <a href="/categories/%E8%AE%B0%E5%BD%95/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>记录</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-07-20">2023-07-20</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;4777 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;10 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#王老师的开源项目whisper_youtube">王老师的开源项目whisper_youtube</a></li>
    <li><a href="#语音输入法">语音输入法？</a></li>
    <li><a href="#faster-whisper">faster whisper</a></li>
    <li><a href="#跑通之后就该定制了">跑通之后就该定制了</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><meting-js auto="https://music.163.com/#/song?id=2062751872" theme="#448aff"></meting-js>
<h1 id="ai总结">AI总结</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gh"># 起因
</span></span></span><span class="line"><span class="cl"><span class="gh"></span>
</span></span><span class="line"><span class="cl"><span class="k">1.</span> 最近我通过ChatGPT的iOS端语音输入功能,发现它的语音识别准确度非常高。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">2.</span> 我很想知道它为什么识别这么准确,经过了解,是ChatGPT使用了OpenAI的Whisper语音识别模型。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">3.</span> 于是我就在想,为什么不基于Whisper做一个语音输入法,尤其是在电脑端,一个人的时候说话识别会比打字快很多。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gh"># 开始折腾
</span></span></span><span class="line"><span class="cl"><span class="gh"></span>
</span></span><span class="line"><span class="cl"><span class="gu">## 参考Wang老师的开源项目whisper_youtube
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl"><span class="k">4.</span> 我在Twitter上看到Wang老师分享了一个基于Whisper的语音转文字的开源项目whisper_youtube。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">5.</span> 看到这个项目后,我就萌生了在本地搭建Whisper的想法,虽然我的初衷是做语音输入法。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">6.</span> 我找到了Wang老师的这个项目源码,准备学习参考它来实现我的想法。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">7.</span> 在学习这个项目的过程中,我了解到它是基于Google Colab和Jupyter Notebook实现的。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">8.</span> 之前我不太熟悉Colab和Jupyter Notebook,通过学习知道Colab可以免费提供云端计算资源来运行Jupyter Notebook。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">9.</span> 刚开始我错误地选择了在本地运行Colab,导致初始化环境时C盘被占用了40GB空间。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">10.</span> 后来我意识到直接使用Colab提供的云端计算资源更简单,就放弃了本地运行的想法。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">11.</span> Wang老师的项目其实已经做得很完整,基本就是开箱即用,如果我一开始就更熟悉Colab的话,可能1分钟就可以运行这个项目。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">12.</span> 我只需要调整一些参数,就可以使用这个项目来进行语音转文字,甚至支持主流视频网站的链接。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## 语音输入法?
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl"><span class="k">13.</span> 但是Wang老师的项目还是不能直接作为我想要的语音输入法使用。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">14.</span> 于是我找了4个相关的语音输入法项目来试用。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">15.</span> 包括Emacs的语音输入法插件,whisper-typer-tool,Buzz和Const-me/Whisper等。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">16.</span> 经过试用发现,这些项目或多或少都存在一些问题,不能满足我对语音输入法的要求。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## faster whisper
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl"><span class="k">17.</span> 后来我发现了faster whisper这个对Whisper模型进行优化的项目。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">18.</span> 为了实现语音输入法,我决定尝试在本地配置faster whisper的运行环境。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">19.</span> 安装了需要的cuda, cudnn, ffmpeg等库文件。遇到一些报错也都解决了。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">20.</span> 最后成功让faster whisper可以在我的电脑上运行。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">21.</span> 编写了一小段代码对它的语音转文字功能进行了验证。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">22.</span> 之后一直试图实现实时转录的功能,但是效果不佳,存在很多问题没能很好解决。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gh"># 有意思的发现
</span></span></span><span class="line"><span class="cl"><span class="gh"></span>
</span></span><span class="line"><span class="cl"><span class="k">23.</span> 在使用过程中,我发现当没有语音输入时,whisper也会输出一些“感谢观看”之类的文字。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">24.</span> 我猜测这可能来自whisper的训练数据集,它们使用了大量影视作品的音频和字幕进行无监督训练。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">25.</span> 这也验证了OpenAI采用无监督学习的方法训练whisper是可行的。
</span></span></code></pre></div><h1 id="起因">起因</h1>
<p>最近这段时间，我经常通过 OpenAI iOS 端的 ChatGPT 的语音输入来识别文字，因为它的这个识别准确率超级高。我就在想，它为什么可以这么高呢？后来发现它这个是基于 OpenAI 的 Whisper 来做成的。我就想，为什么不能基于这个 Whisper 来做成一个输入法的类似的东西，来方便语音输入，尤其是电脑端。在一个人的时候，我觉得说话还是比打字要快很多的。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191516182.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191516182.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191516182.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191516182.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191516182.png"
        title="52290ee715016db0e56eff9950166292_720.png" /></p>
<p>随着使用的频率增多，我越发觉得自己需要这样的程序，来便利我的生活，以前从来没有这么高精度的识别模型，现在我发现了whisper，我想要使用它。尽管这个过程并不完美。</p>
<h1 id="开始折腾">开始折腾</h1>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191519118.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191519118.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191519118.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191519118.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191519118.png"
        title="image.png" /></p>
<h2 id="王老师的开源项目whisper_youtube">王老师的开源项目whisper_youtube</h2>
<p>先是看到这条tweet，自己萌生了本地搭建whisper的想法
<a href="https://github.com/lewangdev/faster-whisper-youtube" target="_blank" rel="noopener noreffer ">https://github.com/lewangdev/faster-whisper-youtube</a></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191520740.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191520740.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191520740.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191520740.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191520740.png"
        title="image.png" /></p>
<p>最终在这里开始行动，我也想要运行一个这样的项目出来，尽管我的初衷是本地语音识别，但是至少我可以通过这个先熟悉一下whisper。这里还需要我从新接触的还有colab和jupyter notebook，虽然此前知道是Python的，但是并没有使用过jupyter notebook，经过一定了解后，我意识到Collab是谷歌的Jupyter Notebook的托管平台。你可以在这里托管你的Jupyter Notebook，并且谷歌可以为你免费提供基础的硬件服务。你可以直接在云上使用并且运行Jupyter Notebook，而不需要占用你本地的硬件。而且谷歌虽然说是免费提供的硬件，但是这个免费的硬件也是很给力的。至少比我自己电脑的1660Ti显卡厉害了不少。
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191525698.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191525698.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191525698.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191525698.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191525698.png"
        title="image.png" /></p>
<p>中途了解的时候，以为有很多问题需要解决，而且当时还不知道google会让你白嫖这么牛逼的硬件，所以我的第一反应是本地运行我的colab，当时在连接处点击了本地，而不是选择免费的云端硬件，说实话很不建议！我当时跟着教程，在本地安装docker，并且初始化docker命令的时候，为了创建colab的本地运行环境，就直接吃掉了我的40G的C盘，而且这还并没有进行后续的操作，本来电脑就配置一般般，就还是不要折腾这个了，老老实实用云端吧。
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191528134.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191528134.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191528134.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191528134.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191528134.png"
        title="794e852141a521b98cb850736fd04a6f.png" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191526434.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191526434.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191526434.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191526434.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191526434.png"
        title="image.png" /></p>
<p>而王老师的这个项目本身已经足够完善，事实上，由于使用colab的服务，所以几乎是开箱即用，如果我一开始对colab熟悉的话，我应该能在1min内就跑出这个项目。</p>
<p>我们只需要调整一下自己需要的参数，即可识别我们的音频或者视频，包括一些主流媒体的视频链接。而这便是我观看一个AI制作PPT时实时生成字幕，让我快速观看的一个截图</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191532488.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191532488.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191532488.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191532488.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191532488.png"
        title="076414b4f146a8e88ede5cf0ad456fe.png" /></p>
<h2 id="语音输入法">语音输入法？</h2>
<p>项目本身的确是跑得通了，但是并没有达到我的要求呀。我想要的是一个能够在电脑端作为语音输入的输入法，而且是基于Whisper运行出来的，这样才能达到我想要的精度。</p>
<p>所以我开始找语音输入法，在网上找到了四个项目，</p>
<ul>
<li>还有一个是emacs的语音输入法</li>
<li>一个是https://github.com/dynamiccreator/whisper-typer-tool，</li>
<li>一个是Buzz，</li>
<li>一个是<a href="https://github.com/Const-me/Whisper" target="_blank" rel="noopener noreffer ">GitHub - Const-me/Whisper: High-performance GPGPU inference of OpenAI&rsquo;s Whisper automatic speech recognition (ASR) model</a>
我最初是先找到第一个，但是Emacs对于我来说是一个太过陌生的工具，很多地方我都不会使用。折腾了一会儿之后发现难度梯度太大，就直接放弃了。第二个是在桌面端直接运行的，用C编译的Whisper模型，可以直接在CPU上运行。识别的效果还不错，优点是可以GPU加速，但是它识别的时候不能把一些中文的字符给显示出来，所以我选择了一个可能速度更慢，但是字符相对全面的第三个Buzz。但是Buzz的缺点就是速度太慢了，实在是太慢了。
后面尝试第四个，受到GFW的影响，pip安装很受挫，最后我学会了在clash里为pip添加代理的方式，在设置里将指定协议打开即可不需要修改镜像源。
但是git+安装whisper官方库的时候一直报错，后面纠结了很久也实在没能力解决。</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191542985.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191542985.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191542985.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191542985.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191542985.png"
        title="image.png" /></p>
<p>到这里本来就该结束了，我看到这样的一句话</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191543739.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191543739.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191543739.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191543739.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191543739.png"
        title="image.png" /></p>
<h2 id="faster-whisper">faster whisper</h2>
<p>对啊，还有一个faster whisper的项目，针对whisper做了很多加速处理，并且损失并不高，</p>
<p><a href="https://github.com/guillaumekln/faster-whisper" target="_blank" rel="noopener noreffer ">https://github.com/guillaumekln/faster-whisper</a></p>
<p>这里我决定开始本地运行出这个项目，不管能否跑通，先满足运行环境
首先是需要安装cuda, cudnn, ffmpeg,</p>
<p>cuda我是本来就已经安装过了，11.2的版本，发现cudnn需要安装8.x的版本即可满足，于是我去下载安装了cudnn，cudnn的安装方式其实就是解压，然后把相应的包放进cuda文件夹下方。</p>
<p>在添加了cuda和ffmpeg的环境变量之后，一切似乎都准备就绪，但是实际上这里还出现了意外的报错</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Could not load library cudnn_cnn_infer64_8.dll. Error code <span class="m">126</span>
</span></span><span class="line"><span class="cl">Please make sure cudnn_cnn_infer64_8.dll is in your library path!
</span></span></code></pre></div><p>原来cudnn依赖于一个久远的库，我们需要添加库文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Hi,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Sorry <span class="k">for</span> the late reply,
</span></span><span class="line"><span class="cl">这么晚才回复很抱歉，
</span></span><span class="line"><span class="cl">Have you installed successfully zlib package ?
</span></span><span class="line"><span class="cl">zlib包安装成功了吗？
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3.1.3. Installing Zlib <span class="m">68</span> 3.1.3.安装 Zlib68
</span></span><span class="line"><span class="cl">Zlib is a data compression software library that is needed by cuDNN.
</span></span><span class="line"><span class="cl">Zlib是cuDNN所需的数据压缩软件库。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Procedure 程序
</span></span><span class="line"><span class="cl">Download and extract the zlib package from ZLIB DLL 148. Users with a 32-bit machine should download the 32-bit ZLIB DLL 13.
</span></span><span class="line"><span class="cl">从 ZLIB DLL148 下载并解压 zlib 包。拥有 <span class="m">32</span> 位计算机的用户应下载 <span class="m">32</span> 位 ZLIB DLL13。
</span></span><span class="line"><span class="cl">Note: If using Chrome, the file may not automatically download. If this happens, right-click the link and choose Save link as…. Then, paste the URL into a browser window. If the above link doesn’t work please refer zlibwapi.dll free download <span class="p">|</span> DLL‑files.com <span class="m">45</span> or Download Zlibwapi.dll <span class="k">for</span> Windows 10, 8.1, 8, 7, Vista and XP <span class="m">49</span>
</span></span><span class="line"><span class="cl">注意：如果使用 Chrome，该文件可能不会自动下载。如果发生这种情况，请右键单击该链接并选择将链接另存为...。然后，将 URL 粘贴到浏览器窗口中。如果上面的链接不起作用，请参考zlibwapi.dll免费下载 <span class="p">|</span> DLL‑files.com45 或下载 Zlibwapi.dll 适用于 Windows 10、8.1、8、7、Vista 和 XP49
</span></span><span class="line"><span class="cl">Please download 64-bit or <span class="m">32</span> bit based on your system.
</span></span><span class="line"><span class="cl">请根据您的系统下载64位或32位。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Add the directory path of zlibwapi.dll to the environment variable PATH.
</span></span><span class="line"><span class="cl">将zlibwapi.dll的目录路径添加到环境变量PATH中。
</span></span><span class="line"><span class="cl">Please make sure zlib is added to the path.
</span></span><span class="line"><span class="cl">请确保 zlib 已添加到路径中。
</span></span><span class="line"><span class="cl">If you still face this error, please share with us nvidia-smi output and error logs .
</span></span><span class="line"><span class="cl">如果您仍然遇到此错误，请与我们分享 nvidia-smi 输出和错误日志。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Thank you. 谢谢。
</span></span></code></pre></div><p>本来应该添加到库文件里，但是我下载的是64位，不确定该不该放到system32里，我就直接放在了上面所说的cuda里，然后就运行起来了，
<a href="https://github.com/guillaumekln/faster-whisper" target="_blank" rel="noopener noreffer ">https://github.com/guillaumekln/faster-whisper</a>
我是直接pip install了这个项目，然后直接新建了一个py文件作为测试，只是按照规则简单调用了这个项目，必须文件被我标记了</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191553641.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191553641.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191553641.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191553641.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191553641.png"
        title="image.png" /></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">faster_whisper</span> <span class="kn">import</span> <span class="n">WhisperModel</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pydub</span> <span class="kn">import</span> <span class="n">AudioSegment</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">audio</span> <span class="o">=</span> <span class="n">AudioSegment</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&#34;.</span><span class="se">\\</span><span class="s2">audio.m4a&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">audio</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s2">&#34;.</span><span class="se">\\</span><span class="s2">audio.wav&#34;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&#34;wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">model_size</span> <span class="o">=</span> <span class="s2">&#34;large-v2&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Run on GPU with FP16</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">model</span> <span class="o">=</span> <span class="n">WhisperModel</span><span class="p">(</span><span class="n">model_size</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s2">&#34;cuda&#34;</span><span class="p">,</span> <span class="n">compute_type</span><span class="o">=</span><span class="s2">&#34;float16&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># or run on GPU with INT8</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># model = WhisperModel(model_size, device=&#34;cuda&#34;, compute_type=&#34;int8_float16&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># or run on CPU with INT8</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># model = WhisperModel(model_size, device=&#34;cpu&#34;, compute_type=&#34;int8&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">segments</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="s2">&#34;.</span><span class="se">\\</span><span class="s2">audio.wav&#34;</span><span class="p">,</span> <span class="n">beam_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Detected language &#39;</span><span class="si">%s</span><span class="s2">&#39; with probability </span><span class="si">%f</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">language_probability</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;[</span><span class="si">%.2f</span><span class="s2">s -&gt; </span><span class="si">%.2f</span><span class="s2">s] </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">segment</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">segment</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">segment</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;output.txt&#34;</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;Detected language &#39;</span><span class="si">%s</span><span class="s2">&#39; with probability </span><span class="si">%f</span><span class="se">\n</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">language_probability</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;[</span><span class="si">%.2f</span><span class="s2">s -&gt; </span><span class="si">%.2f</span><span class="s2">s] </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">segment</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">segment</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">segment</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
</span></span></code></pre></div><p>这是我的test.py文件，它把当前目录下的M4A文件先转换成WAV文件，然后让Faster Whisper来转录为文字，并且输出到终端。（因为苹果录音我的默认格式是m4a）</p>
<h2 id="跑通之后就该定制了">跑通之后就该定制了</h2>
<ul>
<li>运行脚本并按下F2键开始录制音频。</li>
<li>说话较长时间以测试录音是否有时间限制。</li>
<li>释放F2键以停止录制并将音频转换为MP3。</li>
<li>验证转录内容是否已保存到文本文件并复制到剪贴板。</li>
<li>按下F3键以测试实时转录，并验证转录内容是否在终端显示。
后面我一直和gpt4干架，因为跑通之后，我想要用来作为我的语音输入法，但是实际效果不如人意，要么到处都是bug，要么就是终于能运行的时候却不按照想要的方向来运行。实际上，把整个流程已经描述得很清楚了，也算是结结实实地体验了一把产品经理的痛苦。光是描述问题本身没什么重要的事，不知道对方是如何理解你的内容或者说他是如何理解的，他会用他的方法去完成他所理解的任务需求。</li>
</ul>
<p>昨晚和GPT打架打到半夜，最后也只是简单地实现了，在按下F2的时候可以录音，在松手的时候停止录音，然后把这段录音拿去转换为文字，并且将转换的文字复制到剪贴板，并且把这个文字也一并输出到output.txt文件里面。然而，我想要的实时进步功能则是完全做不出来，做不出来。F2的功能它也有一个缺点，就是只能听前五秒的录音，在超过五秒之后它就不能识别了，好像是录音的长度被限制在了五秒。我目前不知道是什么原因导致的。我觉得我有必要在后面和GPT讨教一下，整个代码是如何写出来，然后自己学一下这方面的内容。希望能够把这个功能给做出来吧。如果做出来了，我会开源的，那将是我的第一个开源项目。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191603851.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191603851.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191603851.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191603851.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191603851.png"
        title="image.png" /></p>
<h1 id="有意思的发现算小彩蛋吗">有意思的发现，算小彩蛋吗？</h1>
<p>有时候在录音的时候我并没有输入任何的话，所以它的录音实际上相当于是没有声音的。没有声音的时候，Whisper也会输出信息。它输出的信息大多类似于某某字幕组感谢观看，致谢如何如何之类的话，然后还有“Thanks for watching&quot;之类的话。我觉得这应该就是Whisper的训练数据集的来源。它可能使用了很多电影或电视剧的声音和字幕进行提取，然后分别进行训练学习。这样就是一个无监督学习的过程。这正好就是OpenAI他们所选择的无监督学习的道路，并且最终取得了很好的效果。感谢观看。</p>
<hr>
<p>有意思的是上面那段话是我用whisper生成的，我并没有说“感谢观看”，我只是沉默了一会儿，这让我想到为什么很多用whisper的项目会裁切空白语音，一方面节省了运行时间，一方面避免了输出这样的无关内容。</p>
<p>网站logo更新：有点像月牙组成的小窝，上面的就是一夔</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        data-srcset="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 1.5x, https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png 2x"
        data-sizes="auto"
        alt="https://mayue-1312060474.cos.ap-chengdu.myqcloud.com/picgo/202307191619851.png"
        title="5594761e8427c2f7ff8b377df14df534.png" /></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-07-20</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" data-title="1-6:我与whisper打架到半夜" data-via="这不是我" data-hashtags="踩坑记录,just for fun"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" data-hashtag="踩坑记录"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" data-title="1-6:我与whisper打架到半夜"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" data-title="1-6:我与whisper打架到半夜"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://localhost:1313/posts/1-6-fought-with-whisper-until-midnight/" data-title="1-6:我与whisper打架到半夜"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">踩坑记录</a>,&nbsp;<a href="/tags/just-for-fun/">Just for Fun</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/weekly-8-journal-the-weekly-report-should-be-a-reflection-so-there-is-nothing-interesting-in-this-article-just-a-record/" class="prev" rel="prev" title="周报8：流水账（周报应该是反思，所以这篇没什么好看的，单纯记录）"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>周报8：流水账（周报应该是反思，所以这篇没什么好看的，单纯记录）</a>
            <a href="/posts/1-7hdlbits_record_1/" class="next" rel="next" title="1-7:HDLBits刷题记录(持续更新中)">1-7:HDLBits刷题记录(持续更新中)<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2023 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">龙山</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=419596181&auto=1&height=66"></iframe>

<a href="https://info.flagcounter.com/qhiN"><img src="https://s01.flagcounter.com/mini/qhiN/bg_FCF7FF/txt_000000/border_278FCC/flags_0/" alt="Flag Counter" border="0"></a>



</div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/aplayer/APlayer.min.css"><link rel="stylesheet" href="/lib/aplayer/dark.min.css"><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/index.umd.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/mhchem.min.js"></script><script type="text/javascript" src="/lib/aplayer/APlayer.min.js"></script><script type="text/javascript" src="/lib/meting/Meting.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"data":{"id-1":"一夔的小窝","id-2":"一夔的小窝"},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
